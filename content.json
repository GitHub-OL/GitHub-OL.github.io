{"meta":{"title":"爱编程,爱挑战,爱学习","subtitle":null,"description":"程序员就是我,我就是程序元","author":"TWei","url":"http://yoursite.com","root":"/"},"pages":[{"title":"tags","date":"2019-10-10T08:40:06.000Z","updated":"2019-10-10T08:40:46.724Z","comments":false,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""},{"title":"categories","date":"2019-10-10T08:40:58.000Z","updated":"2019-10-10T08:41:21.127Z","comments":false,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"Vue深入响应式原理","slug":"Vue深入响应式原理","date":"2019-10-10T15:46:17.000Z","updated":"2019-10-10T15:46:51.511Z","comments":true,"path":"2019/10/10/Vue深入响应式原理/","link":"","permalink":"http://yoursite.com/2019/10/10/Vue深入响应式原理/","excerpt":"理解Vue响应式原理,只需通过解决以下几个问题即可 如何对this.xxx的访问代理到this.data.xxx上? 如何实现数据劫持,监听数据的读写操作? 如何实现依赖缓存? template改变的时候,如何清理依赖想集合?eg:v-if和组件销毁 如何实现数据修改DOM更新","text":"理解Vue响应式原理,只需通过解决以下几个问题即可 如何对this.xxx的访问代理到this.data.xxx上? 如何实现数据劫持,监听数据的读写操作? 如何实现依赖缓存? template改变的时候,如何清理依赖想集合?eg:v-if和组件销毁 如何实现数据修改DOM更新 前提123456789&lt;div id=&quot;app&quot;&gt; &#123;&#123; a &#125;&#125;&lt;/div&gt;&lt;script&gt;let fade = Fade(&#123; el:&quot;#app&quot;, data:&#123;a:&#123; a:1&#125;&#125;&#125;)&lt;/script&gt; 问题:如何实现数据劫持答:通过Object.defineProperty对data上的key进行操作 12345678910111213141516171819202122232425262728293031323334function Fade(options=&#123;&#125;)&#123; // TODO:this代表的是fade实例对象 // TODO:将所有属性挂载到$options this.$options = options var data = this._data = this.options.data observe(data)&#125;function Observe(data)&#123; for(let key in data)&#123; let val = data[key] observe(val) // TODO:把data属性通过objecet.defineProperty的方式定义属性 Object.defineProperty(data,key,&#123; enumerable : true, get()&#123; return val &#125;, set(newVal)&#123;// TODO:更改值得时候 // TODO:设置的值和以前的是一样的东西 if(newVal === val)&#123; return &#125; // TODO:如果以后在获取值的时候将刚才设置的值丢回去 val = newVal observe(newVal) &#125; &#125;) &#125;&#125;function observe(data)&#123; return new Observe(data)&#125; 问题:如何对this.xxx的访问代理到this.data.xxx上?答:对于每个data上的key,都在app上做一个代理,实际操作的是this.data实现的代码如下: 1234567891011121314151617181920function Fade(options = &#123;&#125;) &#123; // TODO:this代表的是zhufeng实例对象 // TODO:将所有属性挂载到$options this.$options = options //this._data var data = this._data = this.$options.data observe(data) // TODO:this代理了this._data for (let key in data) &#123; Object.defineProperty(this, key, &#123; enumerable: true, get() &#123; return this._data[key] //this.a = &#123;a : 1&#125; &#125;, set(newVal) &#123; this._data[key] = newVal &#125; &#125;) &#125;&#125;","categories":[],"tags":[]},{"title":"了解Object.defineProperty()方法","slug":"了解Object-defineProperty-方法","date":"2019-10-10T15:44:19.000Z","updated":"2019-10-10T15:45:17.733Z","comments":true,"path":"2019/10/10/了解Object-defineProperty-方法/","link":"","permalink":"http://yoursite.com/2019/10/10/了解Object-defineProperty-方法/","excerpt":"Object.defineProperty(obj,prop,descriptor)1.参数 obj 要在其上定义属性的对象。 prop 要定义或修改的属性的名称。 descriptor 将被定义或修改的属性描述符。 2.返回值 被传递给函数的对象obj","text":"Object.defineProperty(obj,prop,descriptor)1.参数 obj 要在其上定义属性的对象。 prop 要定义或修改的属性的名称。 descriptor 将被定义或修改的属性描述符。 2.返回值 被传递给函数的对象obj 3.属性描述符 configurable //抗飞个弱儿包 可删除 enumerable //硬牛么儿包 可枚举 writable //ruai特儿包 可赋值 value get //访问 set //修改 注意: value和writable与get和set不能共存 obj.prop 调用get方法 obj.prop = ‘xxx’ 调用set方法","categories":[],"tags":[]},{"title":"NVM_Node_NPM_CNPM安装","slug":"NVM-Node-NPM-CNPM安装","date":"2019-10-10T05:36:11.000Z","updated":"2019-10-10T12:32:30.867Z","comments":true,"path":"2019/10/10/NVM-Node-NPM-CNPM安装/","link":"","permalink":"http://yoursite.com/2019/10/10/NVM-Node-NPM-CNPM安装/","excerpt":"NVM-windows安装第一步:下载NVM安装包:https://github.com/coreybutler/nvm-windows/releases第二步:创建俩个文件目录,解压安装包到NVM目录中:D:\\NVMD:\\Node","text":"NVM-windows安装第一步:下载NVM安装包:https://github.com/coreybutler/nvm-windows/releases第二步:创建俩个文件目录,解压安装包到NVM目录中:D:\\NVMD:\\Node 第三步:进入NVM目录双击 install.cmd 直接回车第四步:修改setting.txt文件复制到D:\\NVM目录中root: D:\\NVMpath: D:\\Nodearch: 64proxy: nonenode_mirror: http://npm.taobao.org/mirrors/node/npm_mirror: https://npm.taobao.org/mirrors/npm/第五步:配置环境变量NVM_HOME和NVM_SYMLINKNVM_HOME : D:\\NVMNVM_SYMLINK : D:\\Node第六步:path中添加变量%NVM_HOME%%NVM_SYMLINK%第七步:查看NVM版本信息nvm -vNode-windows安装第一步:安装Node(为了后续安装全局npm准备)nvm install 6.15.0第二步:使用Nodenvm use 6.15.0第三步:在nvm\\node_dir下创建node_cache和node_global文件加第四步配置缓冲路径和全局路径(使C:\\Users\\yi081.npmrc 】文件重新生成)npm config set prefix “D:\\NVM\\node_dir\\node_global”npm config set cache “D:\\NVM\\node_dir\\node_cache”第五步:配置Node环境变量NODE_HOME和NODE_PATHNODE_HOME:D:\\Node\\node_modulesNODE_GLOBAL:D:\\NVM\\node_dir\\node_global (可不配置)NODE_PATH : D:\\NVM\\node_dir\\node_global\\node_modules第六步:添加到path中%NODE_HOME%%NODE_GLOBAL% (可不配置)%NODE_PATH%全局安装NPM第一步:下载npmnpm install npm@latest -g第二步:配置NPM环境变量NPM_HOME : D:\\NVM\\node_dir\\node_global\\npm第三步:添加到path中%NPM_HOME%全局安装CNPM第一步:下载cnpmnpm install -g cnpm –registry=https://registry.npm.taobao.org第二步:配置CNPM环境变量(可不配置)CNPM_HOME : D:\\NVM\\node_dir\\node_global\\cnpm第三步:添加到path中(可不配置)%NPM_HOME%","categories":[],"tags":[]}]}